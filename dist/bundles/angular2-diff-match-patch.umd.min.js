!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define("angular2-diff-match-patch",["exports","@angular/core"],e):e(t["angular2-diff-match-patch"]={},t.ng.core)}(this,function(t,e){"use strict";var i=function(){function d(){}return d.prototype.diffClass=function(t){switch(t){case window.diff_match_patch.DIFF_INSERT:return"ins";case window.diff_match_patch.DIFF_DELETE:return"del";default:return"match"}},d.prototype.diffSymbol=function(t){switch(t){case window.diff_match_patch.DIFF_INSERT:return"+";case window.diff_match_patch.DIFF_DELETE:return"-";default:return" "}},d.prototype.diffTag=function(t){switch(t){case window.diff_match_patch.DIFF_INSERT:return"ins";case window.diff_match_patch.DIFF_DELETE:return"del";default:return"span"}},d.prototype.diffAttrName=function(t){switch(t){case window.diff_match_patch.DIFF_INSERT:return"insert";case window.diff_match_patch.DIFF_DELETE:return"delete";default:return"equal"}},d.prototype.isEmptyObject=function(t){return 0===Object.getOwnPropertyNames(t).length},d.prototype.isDefined=function(t){return t!=undefined},d.prototype.getTagAttrs=function(t,e,i){var n,r,f=i||{},s={},o=[];if(t!=undefined&&t.attrs!=undefined&&(s=Object.assign(t.attrs[this.diffAttrName(e)]||{})),this.isEmptyObject(s)&&this.isEmptyObject(f))return"";for(n in f)this.isDefined(s[n])?s[n]=f[n]+" "+s[n]:s[n]=f[n];for(r in s)o.push(r+'="'+s[r]+'"');return" "+o.join(" ")},d.prototype.getHtmlPrefix=function(t,e,i){switch(e){case d.displayType.LINEDIFF:return'<div class="'+this.diffClass(t)+'"><span'+this.getTagAttrs(i,t,{"class":"noselect"})+">"+this.diffSymbol(t)+"</span>";default:return"<"+this.diffTag(t)+this.getTagAttrs(i,t)+">"}},d.prototype.getHtmlSuffix=function(t,e){switch(e){case d.displayType.LINEDIFF:return"</div>";default:return"</"+this.diffTag(t)+">"}},d.prototype.createHtmlLines=function(t,e,i){var n,r=t.split("\n");for(n=0;n<r.length;n++)0!==r[n].length&&(r[n]=this.getHtmlPrefix(e,d.displayType.LINEDIFF,i)+r[n]+this.getHtmlSuffix(e,d.displayType.LINEDIFF));return r.join("")},d.prototype.createHtmlFromDiffs=function(t,e,i){var n,r,f,s,o,a=/&/g,c=/</g,p=/>/g,u=[],h=t;for(n=0;n<h.length;n++)f=h[n][1],h[n][1]=f.replace(a,"&amp;").replace(c,"&lt;").replace(p,"&gt;");for(r=0;r<h.length;r++)s=h[r][0],o=h[r][1],e===d.displayType.LINEDIFF?u[r]=this.createHtmlLines(o,s,i):u[r]=this.getHtmlPrefix(s,e,i)+o+this.getHtmlSuffix(s,e);return u.join("")},d.prototype.isString=function(t){return"string"==typeof t||t instanceof String},d.prototype.assertArgumentsIsStrings=function(t,e){return this.isString(t)&&this.isString(e)},d.prototype.createDiffHtml=function(t,e,i){var n;return this.assertArgumentsIsStrings(t,e)?(n=(new window.diff_match_patch.diff_match_patch).diff_main(t,e),this.createHtmlFromDiffs(n,d.displayType.INSDEL,i)):""},d.prototype.createLineDiffHtml=function(t,e,i){var n,r,f;return this.assertArgumentsIsStrings(t,e)?(r=(n=new window.diff_match_patch.diff_match_patch).diff_linesToChars_(t,e),f=n.diff_main(r.chars1,r.chars2,!1),n.diff_charsToLines_(f,r.lineArray),this.createHtmlFromDiffs(f,d.displayType.LINEDIFF,i)):""},d.displayType={INSDEL:0,LINEDIFF:1},d}(),n=function(){function t(t,e){this.el=t,this.dmp=e,this.options={}}return t.prototype.ngOnChanges=function(t){this.el.nativeElement.innerHTML=this.dmp.createLineDiffHtml(this.left,this.right,this.options)},t.prototype.ngOnInit=function(){this.el.nativeElement.innerHTML=this.dmp.createLineDiffHtml(this.left,this.right,this.options)},t.decorators=[{type:e.Directive,args:[{selector:"[line-diff]",providers:[i]}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:i}]},t.propDecorators={left:[{type:e.Input}],right:[{type:e.Input}],options:[{type:e.Input}]},t}(),r=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[n],declarations:[n],imports:[]}]}],t}();t.Ng2DiffModule=r,t.LineDiffComponent=n,t.DiffMatchPachService=i,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=angular2-diff-match-patch.umd.min.js.map