!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("google-diff-match-patch/diff_match_patch_uncompressed")):"function"==typeof define&&define.amd?define("angular2-diff-match-patch",["exports","@angular/core","google-diff-match-patch/diff_match_patch_uncompressed"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["angular2-diff-match-patch"]={},t.ng.core,t.diff_match_patch)}(this,(function(t,e,i){"use strict";var n=function(){function t(){}return t.prototype.diffClass=function(t){switch(t){case i.DIFF_INSERT:return"ins";case i.DIFF_DELETE:return"del";default:return"match"}},t.prototype.diffSymbol=function(t){switch(t){case i.DIFF_INSERT:return"+";case i.DIFF_DELETE:return"-";default:return" "}},t.prototype.diffTag=function(t){switch(t){case i.DIFF_INSERT:return"ins";case i.DIFF_DELETE:return"del";default:return"span"}},t.prototype.diffAttrName=function(t){switch(t){case i.DIFF_INSERT:return"insert";case i.DIFF_DELETE:return"delete";default:return"equal"}},t.prototype.isEmptyObject=function(t){return 0===Object.getOwnPropertyNames(t).length},t.prototype.isDefined=function(t){return null!=t},t.prototype.getTagAttrs=function(t,e,i){var n,r,s=i||{},f={},o=[];if(null!=t&&null!=t.attrs&&(f=Object.assign(t.attrs[this.diffAttrName(e)]||{})),this.isEmptyObject(f)&&this.isEmptyObject(s))return"";for(n in s)this.isDefined(f[n])?f[n]=s[n]+" "+f[n]:f[n]=s[n];for(r in f)o.push(r+'="'+f[r]+'"');return" "+o.join(" ")},t.prototype.getHtmlPrefix=function(e,i,n){switch(i){case t.displayType.LINEDIFF:return'<div class="'+this.diffClass(e)+'"><span'+this.getTagAttrs(n,e,{class:"noselect"})+">"+this.diffSymbol(e)+"</span>";default:return"<"+this.diffTag(e)+this.getTagAttrs(n,e)+">"}},t.prototype.getHtmlSuffix=function(e,i){switch(i){case t.displayType.LINEDIFF:return"</div>";default:return"</"+this.diffTag(e)+">"}},t.prototype.createHtmlLines=function(e,i,n){var r,s=e.split("\n");for(r=0;r<s.length;r++)0!==s[r].length&&(s[r]=this.getHtmlPrefix(i,t.displayType.LINEDIFF,n)+s[r]+this.getHtmlSuffix(i,t.displayType.LINEDIFF));return s.join("")},t.prototype.createHtmlFromDiffs=function(e,i,n){var r,s,f,o,a,c=/&/g,p=/</g,u=/>/g,l=[],h=e;for(r=0;r<h.length;r++)f=h[r][1],h[r][1]=f.replace(c,"&amp;").replace(p,"&lt;").replace(u,"&gt;");for(s=0;s<h.length;s++)o=h[s][0],a=h[s][1],i===t.displayType.LINEDIFF?l[s]=this.createHtmlLines(a,o,n):l[s]=this.getHtmlPrefix(o,i,n)+a+this.getHtmlSuffix(o,i);return l.join("")},t.prototype.isString=function(t){return"string"==typeof t||t instanceof String},t.prototype.assertArgumentsIsStrings=function(t,e){return this.isString(t)&&this.isString(e)},t.prototype.createDiffHtml=function(e,n,r){var s;return this.assertArgumentsIsStrings(e,n)?(s=(new i.diff_match_patch).diff_main(e,n),this.createHtmlFromDiffs(s,t.displayType.INSDEL,r)):""},t.prototype.createLineDiffHtml=function(e,n,r){var s,f,o;return this.assertArgumentsIsStrings(e,n)?(f=(s=new i.diff_match_patch).diff_linesToChars_(e,n),o=s.diff_main(f.chars1,f.chars2,!1),s.diff_charsToLines_(o,f.lineArray),this.createHtmlFromDiffs(o,t.displayType.LINEDIFF,r)):""},t}();n.displayType={INSDEL:0,LINEDIFF:1};var r=function(){function t(t,e){this.el=t,this.dmp=e,this.options={}}return t.prototype.ngOnChanges=function(t){this.el.nativeElement.innerHTML=this.dmp.createLineDiffHtml(this.left,this.right,this.options)},t.prototype.ngOnInit=function(){this.el.nativeElement.innerHTML=this.dmp.createLineDiffHtml(this.left,this.right,this.options)},t}();r.ɵfac=function(t){return new(t||r)(e.ɵɵdirectiveInject(e.ElementRef),e.ɵɵdirectiveInject(n))},r.ɵdir=e.ɵɵdefineDirective({type:r,selectors:[["","line-diff",""]],inputs:{left:"left",right:"right",options:"options"},features:[e.ɵɵProvidersFeature([n]),e.ɵɵNgOnChangesFeature]});var s=function(){};s.ɵmod=e.ɵɵdefineNgModule({type:s}),s.ɵinj=e.ɵɵdefineInjector({factory:function(t){return new(t||s)},imports:[[]]}),("undefined"==typeof ngJitMode||ngJitMode)&&e.ɵɵsetNgModuleScope(s,{declarations:[r],exports:[r]}),t.DiffMatchPachService=n,t.LineDiffComponent=r,t.Ng2DiffModule=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=angular2-diff-match-patch.umd.min.js.map