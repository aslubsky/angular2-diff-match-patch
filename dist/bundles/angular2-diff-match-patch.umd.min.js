!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("google-diff-match-patch/diff_match_patch_uncompressed")):"function"==typeof define&&define.amd?define("angular2-diff-match-patch",["exports","@angular/core","google-diff-match-patch/diff_match_patch_uncompressed"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self)["angular2-diff-match-patch"]={},t.ng.core,t.diff_match_patch)}(this,(function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e=Object.create(null);return t&&Object.keys(t).forEach((function(n){if("default"!==n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}})),e.default=t,Object.freeze(e)}var r=i(e),s=i(n),f=function(){function t(){}return t.prototype.diffClass=function(t){switch(t){case s.DIFF_INSERT:return"ins";case s.DIFF_DELETE:return"del";default:return"match"}},t.prototype.diffSymbol=function(t){switch(t){case s.DIFF_INSERT:return"+";case s.DIFF_DELETE:return"-";default:return" "}},t.prototype.diffTag=function(t){switch(t){case s.DIFF_INSERT:return"ins";case s.DIFF_DELETE:return"del";default:return"span"}},t.prototype.diffAttrName=function(t){switch(t){case s.DIFF_INSERT:return"insert";case s.DIFF_DELETE:return"delete";default:return"equal"}},t.prototype.isEmptyObject=function(t){return 0===Object.getOwnPropertyNames(t).length},t.prototype.isDefined=function(t){return null!=t},t.prototype.getTagAttrs=function(t,e,n){var i,r,s=n||{},f={},o=[];if(null!=t&&null!=t.attrs&&(f=Object.assign(t.attrs[this.diffAttrName(e)]||{})),this.isEmptyObject(f)&&this.isEmptyObject(s))return"";for(i in s)this.isDefined(f[i])?f[i]=s[i]+" "+f[i]:f[i]=s[i];for(r in f)o.push(r+'="'+f[r]+'"');return" "+o.join(" ")},t.prototype.getHtmlPrefix=function(e,n,i){switch(n){case t.displayType.LINEDIFF:return'<div class="'+this.diffClass(e)+'"><span'+this.getTagAttrs(i,e,{class:"noselect"})+">"+this.diffSymbol(e)+"</span>";default:return"<"+this.diffTag(e)+this.getTagAttrs(i,e)+">"}},t.prototype.getHtmlSuffix=function(e,n){switch(n){case t.displayType.LINEDIFF:return"</div>";default:return"</"+this.diffTag(e)+">"}},t.prototype.createHtmlLines=function(e,n,i){var r,s=e.split("\n");for(r=0;r<s.length;r++)0!==s[r].length&&(s[r]=this.getHtmlPrefix(n,t.displayType.LINEDIFF,i)+s[r]+this.getHtmlSuffix(n,t.displayType.LINEDIFF));return s.join("")},t.prototype.createHtmlFromDiffs=function(e,n,i){var r,s,f,o,a,c=/&/g,p=/</g,u=/>/g,l=[],d=e;for(r=0;r<d.length;r++)f=d[r][1],d[r][1]=f.replace(c,"&amp;").replace(p,"&lt;").replace(u,"&gt;");for(s=0;s<d.length;s++)o=d[s][0],a=d[s][1],n===t.displayType.LINEDIFF?l[s]=this.createHtmlLines(a,o,i):l[s]=this.getHtmlPrefix(o,n,i)+a+this.getHtmlSuffix(o,n);return l.join("")},t.prototype.isString=function(t){return"string"==typeof t||t instanceof String},t.prototype.assertArgumentsIsStrings=function(t,e){return this.isString(t)&&this.isString(e)},t.prototype.createDiffHtml=function(e,n,i){var r;return this.assertArgumentsIsStrings(e,n)?(r=(new s.diff_match_patch).diff_main(e,n),this.createHtmlFromDiffs(r,t.displayType.INSDEL,i)):""},t.prototype.createLineDiffHtml=function(e,n,i){var r,f,o;return this.assertArgumentsIsStrings(e,n)?(f=(r=new s.diff_match_patch).diff_linesToChars_(e,n),o=r.diff_main(f.chars1,f.chars2,!1),r.diff_charsToLines_(o,f.lineArray),this.createHtmlFromDiffs(o,t.displayType.LINEDIFF,i)):""},t}();f.displayType={INSDEL:0,LINEDIFF:1};var o=function(){function t(t,e){this.el=t,this.dmp=e,this.options={}}return t.prototype.ngOnChanges=function(t){this.el.nativeElement.innerHTML=this.dmp.createLineDiffHtml(this.left,this.right,this.options)},t.prototype.ngOnInit=function(){this.el.nativeElement.innerHTML=this.dmp.createLineDiffHtml(this.left,this.right,this.options)},t}();o.ɵfac=function(t){return new(t||o)(r.ɵɵdirectiveInject(r.ElementRef),r.ɵɵdirectiveInject(f))},o.ɵdir=r.ɵɵdefineDirective({type:o,selectors:[["","line-diff",""]],inputs:{left:"left",right:"right",options:"options"},features:[r.ɵɵProvidersFeature([f]),r.ɵɵNgOnChangesFeature]}),("undefined"==typeof ngDevMode||ngDevMode)&&r.ɵsetClassMetadata(o,[{type:e.Directive,args:[{selector:"[line-diff]",providers:[f]}]}],(function(){return[{type:r.ElementRef},{type:f}]}),{left:[{type:e.Input}],right:[{type:e.Input}],options:[{type:e.Input}]});var a=function(){};a.ɵfac=function(t){return new(t||a)},a.ɵmod=r.ɵɵdefineNgModule({type:a}),a.ɵinj=r.ɵɵdefineInjector({imports:[[]]}),("undefined"==typeof ngDevMode||ngDevMode)&&r.ɵsetClassMetadata(a,[{type:e.NgModule,args:[{exports:[o],declarations:[o],imports:[]}]}],null,null),("undefined"==typeof ngJitMode||ngJitMode)&&r.ɵɵsetNgModuleScope(a,{declarations:[o],exports:[o]}),t.DiffMatchPachService=f,t.LineDiffComponent=o,t.Ng2DiffModule=a,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=angular2-diff-match-patch.umd.min.js.map